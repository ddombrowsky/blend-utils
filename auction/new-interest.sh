#!/bin/sh

# error 1215 = interest too small

# fxdao
echo fxdao
soroban contract invoke \
    --id CDE65QK2ROZ32V2LVLBOKYPX47TYMYO37Z6ASQTBRTBNK53C7C6QF4Y7  \
    --source-account xbull \
    --network public --fee 10000000 -- \
    new_interest_auction \
    --assets '["CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA","CDIKURWHYS4FFTR5KOQK6MBFZA2K3E26WGBQI6PXBYWZ4XIOPJHDFJKP","CBN3NCJSMOQTC6SPEYK3A44NU4VS3IPKTARJLI3Y77OH27EWBY36TP7U","CBCO65UOWXY2GR66GOCMCN6IU3Y45TXCPBY3FLUNL4AOUMOCKVIVV6JC"]' > \
    fxdao.log 2>&1
    grep Error fxdao.log || exit

# reflector
echo reflrector
soroban contract invoke \
    --id CAQF5KNOFIGRI24NQRRGUPD46Q45MGMXZMRTQFXS25Y4NZVNPT34GM6S \
    --source-account xbull \
    --network public --fee 10000000 -- \
    new_interest_auction \
    --assets '["CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA","CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75","CBLLEW7HD2RWATVSMLAGWM4G3WCHSHDJ25ALP4DI6LULV5TU35N2CIZA"]' > \
    reflrector.log 2>&1
    grep Error reflrector.log || exit

# ybx
echo ybx
soroban contract invoke \
    --id CBP7NO6F7FRDHSOFQBT2L2UWYIZ2PU76JKVRYAQTG3KZSQLYAOKIF2WB \
    --source-account xbull \
    --network public --fee 10000000 -- \
    new_interest_auction \
    --assets '["CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA","CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75","CDTKPWPLOURQA2SGTKTUQOWRCBZEORB4BWBOMJ3D3ZTQQSGE5F6JBQLV","CAUIKL3IYGMERDRUN6YSCLWVAKIFG5Q4YJHUKM4S4NJZQIA3BAS6OJPK"]' > \
    ybx.log 2>&1
    grep Error ybx.log || exit

# fixed
echo fixed
soroban contract invoke \
    --id CDVQVKOY2YSXS2IC7KN6MNASSHPAO7UN2UR2ON4OI2SKMFJNVAMDX6DP \
    --source-account xbull \
    --network public --fee 10000000 -- \
    new_interest_auction \
    --assets '["CAS3J7GYLGXMF6TDJBBYYSE3HQ6BBSMLNUQ34T6TZMYMW2EVH34XOWMA","CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75"]' > \
    fixed.log 2>&1
    grep Error fixed.log || exit
